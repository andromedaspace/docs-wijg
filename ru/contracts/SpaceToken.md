# Space Токен - Требования

## Описание проблемы
Необходим способ учета и адресации отдельных Земельных участков в Проекте с возможностью их передачи между Участниками проекта. Необходима возможность учитывать дополнительные параметры, привязанные к каждому Земельному участку, такие как Залог, Верхняя и Нижняя граница участка и.т.д.

## Цели контракта
- Создать отвечающий стандартам [OpenZeppelin ERC721](https://github.com/OpenZeppelin/openzeppelin-solidity/blob/master/contracts/token/ERC721).
- Сделать идентификатором каждого токена Геохеш Земельного участка, которому соответсвует этот токен.

## Сценарий контракта
### Сценарий 1: Первичная продажа SPACE токена
1. После успешной продажи SPACE токена своему первому владельцу - аукцион вызывает функцию transferFrom передавая последним аргументом цену продажи.
2. Цена продажи передается в DaoRegistry.onTransferReputationWithinDao и будет использоваться как репутация SPACE токена или так называемый Залог в GALT токенах.
3. Токен успешно передан владельцу и за ним залочились GALT токены в размере цены его продажи.
### Сценарий 2: Передача SPACE токена другому владельцу
1. При передачи другому владельцу так-же вызывается transferFrom, но последний аргумент reputation не разрешено указывать, так как эту функцию вызывает не аукцион.
2. Функция transferFrom инициирует функцию DaoRegistry.onTransferReputationWithinDao, которая обеспечивает перечисление залоченных GALT токенов(репутации) от одного владельца другому
3. Таким образом при передачи SPACE токена так-же передается и его репутация: у старого владельца отнимается, и начисляется новому владельцу.

## Спецификация контракта
### Модификации
- Добавлено поле daoRegistry и функция setDaoRegistry чтобы при совершении операций со SPACE токеном - производились соответствующие операции с залоченными токенами GALT за соответствующим SPACE токеном.
- Функция transferFrom переопределена для добавления аргумента reputation, который можно указывать только при первичной продаже токенов чтобы зафиксировать c помощью контракта DaoRegistry сколько за этим SPACE токеном будет числиться репутации.
### Связи с другими контрактами
- В контракте аукциона содержится логика для создания новых SPACE токенов и определения за ними базовой репутации - залоченных токенов
- В контракте Reputation хранится количество GALT токенов, залоченных за SPACE токеном
- В контракте управления высотами содержится информация о верхней и нижней границе, на которую имеет право владелец SPACE токена


## Особенности реализации на Solidity

## Особенности реализации на TypeScript

## Неоднозначные вопросы и ответы на них
Q: Каким образом можно будет пополнять залоченные токены GALT? Из какого контракта это будет происходить?

A: Должно производится из контракта Репутации.

Q: Каким образом и из какого контракта будут производится штрафы из баланса залоченных GALT токенов?

A: Должно быть описано отдельным функционалом в отдельном контракте Штрафа Репутации
