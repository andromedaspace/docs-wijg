# Контракт PlotCustodianManagement  - Требования

## Описание проблемы
Нужно создать ликвидный производный инструмент для крипто-инвесторов, обеспеченные земельными активами.  Сделать так, чтобы передавать токен можно было без изменений права собственности на землю в государственном реестре, но при этом права владельцев токенов были защищены. Сделать так, чтобы под землю можно было выпустить ERC20 токен.

## Цели контракта
- Регистрация Кастодиана по земельному участку за комиссию.

## Сценарий UI 1: Регистрация токена земельного участка у Кастодиана
1. Если оценка земельного участка выполнена, то возможна регистрация земельного участка у Кастодиана. Регистрация предполагает переход права собственности на участок к Кастодиану с обязательством вернуть это право держателю SPACE токена.
2. В меню земельного участка доступна кнопку "Зарегистрировать участок у Кастодиана".
3. Появляются поля для ввода данных.

|Параметр|Значение по умолчанию|Тип|
|--------|--------|---------|
|ID Участка|Берется по выбранному участку, не редактируется|uint256|
|Селектор оплаты комиссии|GALT, меняется на ETH|Селектор|
|Поле для ввода комиссии|Минимальное значение комиссии|float|
|Рекомендуемая комиссия|Рассчитанная рекомендуемая комиссия|float|
|Кастодиан|Пусто, при нажатии отображается список допустимых Кастодианов с их отображанием на карте с описанием|Адрес|

4. Пользователь нажимает "Подтвердить" и создается транзакция с вызовом метода по созданию заявки.

5. Кастодиан в меню "Мои заявки на регистрацию прав" видит все заявки, которые были назначены ему. Он нажимает кнопку "Принять заявку". Заявка меняет статус на принята. Если Кастодиан нажимает отклонить заявку, то он возвращается Пользователю и пользователь может выбрать другого Кастодиана. Кастодиан должен указать причину отклонения заявки.

6. Пользователь, если заявка принята Кастодианом нажимает кнопку - "Отправить токен на контракт Регистрации". Создается транзакция, статус заявки меняется. Создается новый контракт, на который передется токен участка. Для вывода токена участка с контракта необходимо 3 подписи: Пользователя, Кастодиана и Аудитора. Оплачивается комиссия.

7. Кастодиан офчейн готовит все необходимые документы. Пользователь встречается с Кастодианом, подписывает все необходимые документы. Кастодиан выполняет регистрационные действия и после того, как они выполнены нажимает в меню заявки кнопку "Загрузить документы". Кастодиан загружает документы и подписывает транзакцию с сохранением документов в IPFS, а хеша в заявки и в контракте, на котором находится токен Участка.

8. После этого Пользователь, Кастодиан и Аудитор должны выполнить транзакцию, которая изменит статус заявки и передаст токен участка с контракта обратно пользователю. При этом Адрес Кастодиана будет зафиксирован в контракте.

## Сценарий UI 4: Отправка токена участка на DEX
1. После этого пользователь может отправить токен на DEX и получить токены GALT, которые были определены последней оценкой.
