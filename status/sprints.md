# Sprint 1

## Web3 Application

### Действия
 - Ввод данных по заявке 
   - Ввод текстовых данных по заявке
   - Указание контура в текстовых полях
     - Возможность вместо геохешей указывать координаты в формате Google Maps
   - Демонстрация апроксимированных геохешей по контурам
   - Отправка транзакции на создание заявки
   - Отправка нескольких транзакций на добавление геохешей группами
   - Отправка транзакции на изменение статуса заявки на `Готов к проверке`
 - Мои заявки
   - Отображение всех поданных заявок пользователям
   - Возможность фильтрации по статусам
   - По каждой заявке кнопка `Добавить геохеш` для заявок со статусом `Новая` при нажатии появляется поле для ввода геохеша или нескольких геохешей с кнопкой `Добавить`
     - Автоматическое определение соседа со стороной смежной с соседом для добавления в упаковку
     - Подсвечивание на карте добавляемых геохешей
     - Подсвечивание некорректно указанных геохешей
   - По каждой заявке кнопка `Разобрать упаковку` нажатие которой вызывает создание серии транзакций по удаления геохеша из упаковке пока счетчик геохешей упаковки не станет равен нулю
   - По заявкам где счетчик геохешей упаковки равен нулю показывать кнопку `Назначить новую упаковку` с возможностью указать новый контур и апроксимировать заново упаковку.
   - По каждой заявке кнопка `Проверить геохеши упаковки` Есть ли геохеши, которые входят в контур но не вошли в упаковку.
     - Показывать предупреждение пользователю с кнопкой Добавить недостающие геохеши, которая генерирует одну или несколько транзакций на добавление геохешей группами
   

   

## GaltToken
 - Все готово

## SpaceToken

### Методы
  - Разработка метода [encode](../ru/contracts/SpaceToken.md#encode), нужно разработать
    - из 5-бит пакетов нереализовано 
      - написать unit test, 15 минут
    - из 8-бит пакетов вообще нереализовано, 2 часа
  - Разработка метода [decode](../ru/contracts/SpaceToken.md#decode), нужно разработать
    - из 5-бит пакетов нереализовано
      - написать unit test, 15 минут
    - из 8-бит пакетов вообще нереализовано, 2 часа
  - Разработка метода mint (выпуск токена), готово на 90%
    - Нужно опеределить права (роли) на вызов метода mint, 15 мин
    - Написать код на проверку прав метода mint, 1 час
  - Перенести метод mintPack в контракт SplitMerge, Выпилить в будущем
  - Перенести метод swapToPack в контракт SplitMerge, Выпилить в будущем
    - Убрать импорт контракта SplitMerge
  - Входят в стандарт и должны быть включены методы из контрактов:
    - ERC721Token, реализовано
    - Ownable, реализовано
    - Initializable, реализовано
  - generatePackTokenId
    - Написать Unit test, 10 мин
  - isPack
    - Написать Unit test, 10 мин
  - isGeohash
    - Написать Unit test, 10 мин
  - tokenIdToGeohash
    - Написать Unit test, 10 мин
  - geohashToTokenId
    - Написать Unit test, 10 мин
  - setTokenURI
    - Нужно опеределить права на вызов метода setTokenURI, 15 мин
    - Написать код на проверку прав метода setTokenURI, 30 мин
  - burn
    - Нужно опеределить права на вызов метода burn, 15 мин
    - Написать код на проверку прав метода burn, 30 мин
  - canTransfer
    - Написать Unit test, 15 мин

## PlotManager

### Методы
 - Наследование и импорт стандартных контрактов (Initializable, Ownable)
   - Проверить правильность наследования и импорта, ???
 - Метод initialize
   - Определить переменные
     - Размер комиссии за создание заявки
     - Проценты комиссии за проверку заявки, получаемый Galt Space и Валидатором
     - address SpaceToken
     - address SplitMerge
 - Метод addValidator
   - Покрыть тестами
 - Метод removeValidator
   - Покрыть тестами
 - Метод applyForPlotOwnership
   - Перевод X эфиров в контракт
   - Выполнять mint одного geohash или использование готового, если он принадлежит контракту PlotManager, mint упаковки, обмен одного geohash на упаковку с записью во все мапинги SplitMerge и созданием заявки со статусом Новая - одной транзакцией.
     - mint одного geohash на контракт PlotManager
     - mint упаковки на контракт SplitMerge
     - обмен одного geohash на упаковку
     - запись во все мапинги SplitMerge
     - создание заявки со статусом Новая
 - Метод addGeohashesToApplication
   - Проверка наличия конкрентных токенов на контракте PlotManager
   - mint geohash в случае отсутствия
   - Добавление geohash в упаковку
   - Проверка статуса заявки
 - Метод submitApplication
   - Изменение статуса заявки
   - Проверка статуса заявки
 - Метод changePack
   - Вызов метода контракта SplitMerge который создает новую упаковку, меняет статус старой упаковки на частично-разобранную, переносит один geohash из старой упаковки в новую.
 - Метод transferToPack
   - Вызов метода контракта SplitMerge и перенос одного или нескольких geohash из старой упаковки в новую со ссылкой на заявку.
 - Метод removeGeohashFromPack
   - Вызов метода контракта SplitMerge, который передает токен geohash от контракта SplitMerge контракту PlotManager и меняет маппинг geohash -> упаковка для заявки в статусе Новая.
 - Метод approveApplication
   - Проверить статус заявки
   - Получить на входе hash
   - Сравнить hashes
   - Передать токен упаковки заявителю
   - Изменить статус заявки на `Утверждена`
 - Метод revertApplication
   - Изменить статус заявки на `Новая`
 - Метод rejectApplication
   - Изменить статус заявки на `Отказ`
 - Метод claimValidatorReward
   - для заявок со статусом утверждена для перечисления эфиров валидаторам без проверок
   - для заявок со статусом `Отказ` проверка для упаковки указанной в заявке, что количество `geohash` в упаковке равно нулю 
 - Метод claimGaltSpaceReward
   - Если стоит флаг что валидатор получил вознаграждение, то `GaltSpace` может получить вознаграждение
 - Метод getApplicationById
   - Добавить недостающие поля
   
 
## SplitMerge

### Методы
 - Метод mintGeohash
   - Выполнение проверки может вызывать только PlotManager и владелец контракта, реализовано.
   - Написать тест
 - Метод mintPackage
   - Написать тест, в `initPackage`
 - Метод initPackage
   - Проверка, что geohash принадлежит тому кто вызывает метод, реализовано.
   - Написать тест
 - Метод addGeohashToPackage
   - Проверка, что сосед указанный в аргументе по указанной стороне находится в той же упаковке.
   - Проверка, что geohash принадлежит владельцу упаковки
 - Метод addGeohashToPackageUnsafe
   - Написать тест, в `initPackage` & `addGeohashToPackage` (?)
 - Метод addMultipleGeohashesToPackage
   - Написать тест
 - Метод removeGeohashFromPackageUnsafe
   - Выполнение проверки может вызывать только PlotManager и владелец контракта, реализовано.
   - Написать тест
 - Метод removeGeohashFromPackage
   - Проверка, что по указанным в аргументах двум смежным сторонам отсутствуют geohashes принадлежащие той же упаковке.
   - Написать тест
 - Метод splitGeohash
   - Проверка, что все дочерние `geohashes` или отсутствуют или принадлежат `SplitMerge`
   - Написать код с проверкой на `Ownership`
   - Написать тест
 - Метод mergeGeohash
   - Проверка, что родительский не существует или принадлежит `SplitMerge`
   - Написать код с проверкой на `Ownership`
   - Написать тест
 
 

## TerritoryCrowdsale

## SpaceAuctionPack

## SPACEAuctionRegistry

## GALTGenesisRegistry

## Explorer Testnet

## Solidity Telegram Bot

## TypeScript Telegram Bot

 - Bintan
 - Маркетинговый бот (общего назначения)


